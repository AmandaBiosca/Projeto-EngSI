<section class="content">
  <nav>
    <ul>
      <li><a routerLink="/home" routerLinkActive="active">Home</a></li>
      <li>
        <div class="arrow"></div>
      </li>
      <li><a routerLink="/publicar" routerLinkActive="active">Anunciar produto</a></li>
    </ul>
  </nav>
  <form *ngIf="showForm">
    <fieldset>
      <div class="form-holder">
        <h2>Identificação</h2>
        <div class="name-fields fields">
          <div class="iamgeHolder">
            <img *ngIf="form.foto" class="prodcut-picture" [src]="form.foto | safeUrl" />
            <button *ngIf="!form.foto" type="button" md-button (click)="imgFileInput.click()">Adicionar foto</button>
            <button *ngIf="form.foto" type="button" md-button (click)="imgFileInput.click()">Trocar foto</button>
            <input hidden type="file" #imgFileInput (change)="imageUpload($event)" />
          </div>
          <div class="input-field">
            <mat-form-field>
              <input matInput [(ngModel)]="form.nome" placeholder="Nome do produto" id="name" name="name">
            </mat-form-field>
          </div>
        </div>
        <h2>Informações</h2>
        <div class="info-fields fields">
          <div class="input-field">
            <mat-form-field>
              <mat-select [(ngModel)]="form.categoria" placeholder="Categoria" id="category" name="category">
                <mat-option value="Camisetas">Camisetas</mat-option>
                <mat-option value="Vestidos">Vestidos</mat-option>
                <mat-option value="Calças">Calças</mat-option>
                <mat-option value="Bermudas">Bermudas</mat-option>
                <mat-option value="Saias">Saias</mat-option>
                <mat-option value="Agasalhos">Agasalhos</mat-option>
                <mat-option value="Acessórios">Acessórios</mat-option>
                <mat-option value="Bolsas">Bolsas</mat-option>
                <mat-option value="Outros">Outros</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <input matInput [(ngModel)]="form.marca" placeholder="Marca" id="brand" name="brand">
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <mat-select [(ngModel)]="form.condicao" placeholder="Condição" id="condition" name="condition">
                <mat-option value="Novo">Novo</mat-option>
                <mat-option value="Usado">Usado</mat-option>
                <mat-option value="Seminovo">Seminovo</mat-option>
                <mat-option value="Defeito de fabricação">Defeito de fabricação</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <input [(ngModel)]="form.descricao" matInput placeholder="Descrição" id="desc" name="desc">
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <input [(ngModel)]="form.tamanho" matInput placeholder="Tamanho" id="size" name="size">
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <input [(ngModel)]="form.tags" matInput placeholder="Tags" id="tags" name="tags">
              <mat-hint>Separe as palavras por ","</mat-hint>
            </mat-form-field>
          </div>
        </div>
        <h2>Pagamento</h2>
        <div class="payment-fields fields">
          <div class="input-field">
            <mat-form-field>
              <input [(ngModel)]="form.preco" matInput type="number" step="0.01" placeholder="Preço" id="price" name="price">
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <input [(ngModel)]="form.frete" matInput type="number" step="0.01" placeholder="Frete" id="shipping" name="shipping">
            </mat-form-field>
          </div>
          <div class="input-field">
            <mat-form-field>
              <input [(ngModel)]="form.desconto" matInput type="number" step="0.01" placeholder="Desconto" id="shipping"
                name="shipping">
            </mat-form-field>
          </div>
        </div>
        <div *ngIf="!sending" class="save-holder">
          <button type="button" class="save" (click)="saveHandler()">Salvar</button>
        </div>
        <div *ngIf="sending" class="save-holder center">
          <button type="button" class="sending" disabled>Enviando, por favor aguarde</button>
        </div>
      </div>
    </fieldset>
  </form>
  <div *ngIf="showError" class="message">
    <p>Não foi possível acessar os dados do usuário que está publicando o produto</p>
  </div>
</section>